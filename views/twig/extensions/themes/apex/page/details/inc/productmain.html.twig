{% extends 'page/details/inc/productmain.html.twig' %}
{% block details_productmain_persparams %}
    {{ parent() }}

    {% set oParentProduct = oDetailsProduct %}
    {% if oParentProduct.getParentArticle() %}
        {% set oParentProduct = oParentProduct.getParentArticle() %}
    {% endif %}
    {% if oParentProduct.oxarticles__agisvoucher.value %}
    <div class="selectorsBox clear">
        <strong>{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_SEND_TO" }) }}</strong><br/>
        <div class="whom-send-row clear">
            <input class="voucherchanger" id="vouchersendto1" type="radio" name="persparam[vouchersendto]" value="customer" {% if not aPersParam or aPersParam.vouchersendto == 'customer' %}checked="checked"{% endif %}
                   onchange="document.getElementById('voucherother').style.display = document.getElementById('vouchersendto1').checked?'none':'block'; ">
            <label for="vouchersendto1">{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_SEND_TO_CUSTOMER" }) }}</label>

        </div>
        <div class="whom-send-row clear">
            <input class="voucherchanger" id="vouchersendto2" type="radio" name="persparam[vouchersendto]" value="other" {% if aPersParam.vouchersendto == 'other'%}checked="checked"{% endif %}
                   onchange="document.getElementById('voucherother').style.display = document.getElementById('vouchersendto1').checked?'none':'block'; ">
            <label for="vouchersendto2">{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_SEND_TO_OTHER" }) }}</label>
        </div>
        <div id="voucherother" style="display: none">

            <div class="form-horizontal">
                <div class="form-group">
                    <label class="req col-lg-12">{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_OTHER_NAME" }) }}</label>
                    <div class="col-lg-12">
                        <input id="vouchername" name="persparam[vouchername]" value="{{aPersParam.vouchername}}" class="form-control voucher-required" >
                    </div>
                </div>
                <div class="form-group">
                    <label class="req col-lg-12">{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_OTHER_EMAIL" }) }}</label>
                    <div class="col-lg-12">
                        <input id="vouchermail" name="persparam[vouchermail]" value="{{aPersParam.vouchermail}}" class="form-control voucher-required">
                    </div>
                </div>
                <div class="form-group">
                    <label class="req col-lg-12">{{ translate({ ident: "PAGE_DETAILS_PERSPARAM_VOUCHER_OTHER_MESSAGE" }) }}</label>
                    <div class="col-lg-12">
                        <textarea rows="6" id="vouchermessage" name="persparam[vouchermessage]" class="form-control">{{aPersParam.vouchermessage}}</textarea>
                    </div>
                </div>
            </div>
        </div>
        <input type="hidden" name="persparam[details]" value="1">
    </div>
    {% endif %}
{% endblock %}